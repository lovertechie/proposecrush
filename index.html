<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Impress Your Crush</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Zeyada&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap');

        body {
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            align-items: center;
            justify-content: center;
            background-size: cover;
            background-image: url("https://www.psdgraphics.com/wp-content/uploads/2022/01/white-math-paper-texture.jpg");
            background-position: center;
            margin: 0;
            touch-action: none; /* Prevents pull-to-refresh and scrolling */
        }

        /* Paper Styling */
        .paper {
            background-color: white; /* Solid color ensures you can't see through */
            background-image: url("https://i0.wp.com/textures.world/wp-content/uploads/2018/10/2-Millimeter-Paper-Background-copy.jpg?ssl=1");
            background-size: 500px;
            
            /* These dimensions ensure the paper covers the ones below */
            width: 85vw;
            max-width: 320px;
            min-height: 350px; /* Forces short papers to be tall enough to hide others */
            
            padding: 20px;
            position: absolute;
            box-shadow: 1px 15px 20px 0px rgba(0,0,0,0.4);
            cursor: grab;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
            border: 1px solid rgba(0,0,0,0.05);
        }

        ..paper.heart {
            width: 180px;
            height: 180px;
            min-height: 180px; /* Keep the heart circular */
            border-radius: 50%;
            padding: 0;
        }

        .paper.image {
            padding: 10px;
        }

        img {
            width: 100%;
            height: auto;
            pointer-events: none; /* Prevents "Save Image" popups while dragging */
            border-radius: 2px;
        }

        .paper.heart::after {
            content: "";
            background-image: url('https://cdn.pixabay.com/photo/2016/03/31/19/25/cartoon-1294994__340.png');
            width: 80%;
            height: 80%;
            position: absolute;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.6;
        }

        p {
            font-family: 'Zeyada', cursive;
            font-size: 28px;
            line-height: 1.2;
            color: rgb(0,0,100);
            margin: 10px 0;
            text-align: center;
        }

        /* Main UI */
        .main-ui {
            z-index: 0;
            text-align: center;
            pointer-events: auto;
        }

        .loveTEXT {
            font-family: Arial, sans-serif;
            color: #e91e63;
            font-size: 28px;
            display: block;
            margin-bottom: 20px;
        }

        .loverbtn {
            font-size: 18px;
            padding: 10px 25px;
            margin: 5px;
            border: none;
            border-radius: 25px;
            background-color: #ff4081;
            color: #fff;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        /* Popup Optimization */
        #popup {
            display: none;
            background-color: #fff;
            border: 2px solid #e91e63;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            padding: 20px;
            top: 50%;
            left: 50%;
            position: fixed;
            transform: translate(-50%, -50%);
            z-index: 10000;
            width: 85vw;
            max-width: 320px;
            text-align: center;
            font-family: 'Dancing Script', cursive;
        }

        #popup.fade-in {
            display: block;
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -45%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }

        @media (min-width: 768px) {
            .paper { max-width: 350px; }
            p { font-size: 40px; }
            .loveTEXT { font-size: 40px; }
        }
    </style>
</head>
<body>

    <div id="popup">
        <div style="font-size: 22px; color: #e91e63; font-weight: bold;">
            Thank you for saying yes! &#128151<br>By Your senti &#128536 üòÅ
        </div>
        <img src="./IMG-20251202-WA0064.jpg" style="margin-top: 15px; border-radius: 10px;">
    </div>

    <div class="main-ui">
        <b class="loveTEXT">Will you be My bestie?</b>
        <div class="btn-group">
            <button id="yes-btn" class="loverbtn">Yes</button>
            <button id="no-btn" class="loverbtn">No</button>
        </div>
    </div>

    <div class="paper heart"></div>
    
    <div class="paper image">
        <p><b>I Love You sona</b></p>
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTXrN_R4j7FodAqwO5mXykHg3hTLlJuzjVgan5eTyqCzA&s"/>
    </div>

    <div class="paper image">
        <p>and I fallen in</p>
        <p>love with you üòç</p>
        <img src="./IMG-20251214-WA0018.jpg"/>
    </div>

    <div class="paper image">
        <p>How can be</p>
        <p>Someone so cute &#128151 </p>
        <img src="./20251202_144022.jpg"/>
    </div>

    <div class="paper">
        <p>And my favourite</p>
        <p>Person üòç</p>
    </div>

    <div class="paper">
        <p>You are cute</p>
        <p>and amazing <span style="color: red;">&#128151</span></p>
    </div>

    <div class="paper">
        <p>Drag the papers to move!</p>
        <p>I have a surprise for you üòÖüòÅ</p>
    </div>

    <script>
        let highestZ = 10;
        
        class Paper {
            holdingPaper = false;
            mouseTouchX = 0;
            mouseTouchY = 0;
            mouseX = 0;
            mouseY = 0;
            prevMouseX = 0;
            prevMouseY = 0;
            velX = 0;
            velY = 0;
            rotation = Math.random() * 20 - 10;
            currentPaperX = 0;
            currentPaperY = 0;

            init(paper) {
                // Initial random scatter
                this.currentPaperX = Math.random() * 40 - 20;
                this.currentPaperY = Math.random() * 40 - 20;
                paper.style.transform = `translateX(${this.currentPaperX}px) translateY(${this.currentPaperY}px) rotateZ(${this.rotation}deg)`;

                const handleMove = (e) => {
                    const clientX = e.clientX || (e.touches && e.touches[0].clientX);
                    const clientY = e.clientY || (e.touches && e.touches[0].clientY);

                    if (this.holdingPaper) {
                        this.mouseX = clientX;
                        this.mouseY = clientY;
                        
                        this.velX = this.mouseX - this.prevMouseX;
                        this.velY = this.mouseY - this.prevMouseY;

                        this.currentPaperX += this.velX;
                        this.currentPaperY += this.velY;
                        
                        this.prevMouseX = this.mouseX;
                        this.prevMouseY = this.mouseY;

                        paper.style.transform = `translateX(${this.currentPaperX}px) translateY(${this.currentPaperY}px) rotateZ(${this.rotation}deg)`;
                    }
                };

                const handleStart = (e) => {
                    this.holdingPaper = true;
                    paper.style.zIndex = highestZ++;
                    
                    const clientX = e.clientX || (e.touches && e.touches[0].clientX);
                    const clientY = e.clientY || (e.touches && e.touches[0].clientY);
                    
                    this.prevMouseX = clientX;
                    this.prevMouseY = clientY;
                };

                const handleEnd = () => {
                    this.holdingPaper = false;
                };

                paper.addEventListener('mousedown', handleStart);
                paper.addEventListener('touchstart', handleStart, {passive: false});
                
                window.addEventListener('mousemove', handleMove);
                window.addEventListener('touchmove', handleMove, {passive: false});
                
                window.addEventListener('mouseup', handleEnd);
                window.addEventListener('touchend', handleEnd);
            }
        }

        const papers = document.querySelectorAll('.paper');
        papers.forEach(paper => {
            const p = new Paper();
            p.init(paper);
        });

        const noButton = document.getElementById("no-btn");
        const yesButton = document.getElementById("yes-btn");
        const popup = document.getElementById("popup");

        // Mobile-friendly "No" button escape
        const moveNoButton = () => {
            const x = Math.random() * (window.innerWidth - noButton.offsetWidth);
            const y = Math.random() * (window.innerHeight - noButton.offsetHeight);
            noButton.style.position = "fixed";
            noButton.style.left = x + "px";
            noButton.style.top = y + "px";
        };

        noButton.addEventListener("mouseover", moveNoButton);
        noButton.addEventListener("touchstart", (e) => {
            e.preventDefault();
            moveNoButton();
        });

        yesButton.addEventListener("click", () => {
            popup.classList.add("fade-in");
        });
    </script>
</body>
</html>


